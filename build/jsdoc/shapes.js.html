<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: shapes.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: shapes.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// Module to avoid duplication of shape sources between controller and
// editor/formatter. This allows one central dict and dropdown of available
// shapes.
define(['jquery', 'three', 'underscore'], function($, THREE, _) {

  var SPHERE = 'Sphere', SQUARE = 'Square', CONE = 'Cone',
      ICOSAHEDRON = 'Icosahedron', CYLINDER = 'Cylinder',
      OCTAHEDRON = 'Diamond', RING = 'Ring', STAR = 'Star';

  var shapes = [SPHERE, OCTAHEDRON, CONE, CYLINDER, RING, SQUARE, ICOSAHEDRON,
                STAR];

  /**
   *
   * Return a correctly sized geometry that matches the plotting space
   *
   * @param {string} shapeName One of 'Sphere', 'Square', 'Cone',
   * 'Icosahedron', 'Cylinder', 'Diamond' and 'Ring'.
   * @param {Float} factor Size for the geometries. Usually as determined by
   * the DecompositionView object.
   *
   * @return {THREE.Geometry} The requested geometry object with a size
   * appropriate for the data presented on screen.
   * @function getGeometry
   */
  function getGeometry(shapeName, factor) {

    /*
     *
     * We arbitrarily rotate "flat-facing" geometries to avoid having the color
     * of the markers being distorted with the scene's light.
     *
     */

    switch (shapeName) {
      case SPHERE:
        return new THREE.SphereGeometry(factor, 8, 8);
      case SQUARE:
        geom = new THREE.PlaneGeometry(factor * 2, factor * 2, 2, 2);
        geom.rotateX(0.3);
        return geom;
      case CONE:
        return new THREE.CylinderGeometry(factor, 0, 2 * factor, 8);
      case ICOSAHEDRON:
        return new THREE.IcosahedronGeometry(factor, 0);
      case OCTAHEDRON:
        return new THREE.OctahedronGeometry(factor, 0);
      case RING:
        // 1.618033 ~= golden ratio
        geom = new THREE.RingGeometry(factor / 1.618033, factor);
        geom.rotateX(0.3);
        return geom;
      case STAR:
        return StarGeometry(factor * 0.5);
      case CYLINDER:
        return new THREE.CylinderGeometry(factor, factor, 2 * factor, 10);
      default:
        throw Error('Unknown geometry requested: ' + shapeName);
    }
  }

  var $shapesDropdown = $('&lt;select>');
  _.each(shapes, function(shape) {
    $shapesDropdown.append(new Option(shape, shape));
  });

  /**
   * Create a star with 6 points.
   *
   * This code was adapted from:
   * https://threejs.org/examples/#webgl_geometry_extrude_shapes
   *
   * @param {Float} scale The scale to apply to the geometry.
   * @return {THREE.ShapeGeometry} The star geometry.
   *
   */
  function StarGeometry(scale) {
    var pts = [], numPts = 6, l, a, shape, geometry;

    for (var i = 0; i &lt; numPts * 2; i++) {
      l = i % 2 == 1 ? 1 : 2;
      a = i / numPts * Math.PI;

      pts.push(new THREE.Vector2(Math.cos(a) * l, Math.sin(a) * l));
    }

    shape = new THREE.Shape(pts);
    geometry = new THREE.ShapeGeometry(shape);

    geometry.scale(scale, scale, scale);
    geometry.rotateX(0.3);
    return geometry;
  }

  return {$shapesDropdown: $shapesDropdown, getGeometry: getGeometry,
          shapes: shapes};
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-draw.html">draw</a></li><li><a href="module-SlickGridColors.html">SlickGridColors</a></li><li><a href="module-SlickGridScale.html">SlickGridScale</a></li><li><a href="module-SlickGridShapes.html">SlickGridShapes</a></li><li><a href="module-trajectory.html">trajectory</a></li><li><a href="module-utility-functions.html">utility-functions</a></li></ul><h3>Classes</h3><ul><li><a href="AnimationDirector.html">AnimationDirector</a></li><li><a href="AnimationsController.html">AnimationsController</a></li><li><a href="AxesController.html">AxesController</a></li><li><a href="ColorViewController.html">ColorViewController</a></li><li><a href="DecompositionModel.html">DecompositionModel</a></li><li><a href="DecompositionView.html">DecompositionView</a></li><li><a href="EmperorAttributeABC.html">EmperorAttributeABC</a></li><li><a href="EmperorController.html">EmperorController</a></li><li><a href="EmperorViewController.html">EmperorViewController</a></li><li><a href="EmperorViewControllerABC.html">EmperorViewControllerABC</a></li><li><a href="module-draw-THREE.EmperorTrajectory.html">EmperorTrajectory</a></li><li><a href="module-SlickGridColors.ColorEditor.html">ColorEditor</a></li><li><a href="module-SlickGridScale.ScaleEditor.html">ScaleEditor</a></li><li><a href="module-SlickGridShapes.ShapeEditor.html">ShapeEditor</a></li><li><a href="OpacityViewController.html">OpacityViewController</a></li><li><a href="Plottable.html">Plottable</a></li><li><a href="ScalarViewControllerABC.html">ScalarViewControllerABC</a></li><li><a href="ScaleViewController.html">ScaleViewController</a></li><li><a href="ScenePlotView3D.html">ScenePlotView3D</a></li><li><a href="ShapeController.html">ShapeController</a></li><li><a href="TrajectoryOfSamples.html">TrajectoryOfSamples</a></li><li><a href="VisibilityController.html">VisibilityController</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getGeometry">getGeometry</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Jul 21 2020 10:58:02 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
